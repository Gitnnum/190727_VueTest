<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06_列表渲染</title>
</head>
<body>

<!--
1. 列表显示
  数组: v-for / index
  对象: v-for / key
2. 列表的更新显示
  删除item
  替换item
-->

<div id="demo">
  <h2>测试: v-for 遍历数组</h2>
  <ul>
    <li v-for="(person, index) in persons" :key="persons.id">
      {{person.id}}==={{person.name}}===={{person.age}}====
      <button @click='deleteP(index)'>删除</button>===
      <button @click="updateP(index,{id:Date.now(),name:'xiaoming',age:21})">更新</button>
    </li>
  </ul>
  <h2>测试: v-for 遍历对象</h2>
  <ul>
    <li v-for="(item, key) in person" :key="key">{{key}}:{{item}}</li>
  </ul>
</div>

<script type="text/javascript" src="../js/vue.js"></script>
<script type="text/javascript">
  new Vue({
    el:'#demo',
    data:{
      persons:[
        {id:1,name:'tom',age:12},
        {id:2,name:'cat',age:13},
        {id:3,name:'jack',age:14},
        {id:4,name:'rose',age:12},
        {id:5,name:'hauhau',age:11},
      ],
      person:{id:1,name:'tom',age:12}
    },
    methods: {
      deleteP(index){
        this.persons.splice(index,1)
      },
      updateP(index,newP){
        // this.persons[index] = newP  //不能更新界面
        // this.persons.splice(index,1,newP)
        const p = this.persons[index]
        p.id = newP .id
        p.name = newP.name
        p.age = newP.age
      }
    },
  })
</script>
</body>
</html>